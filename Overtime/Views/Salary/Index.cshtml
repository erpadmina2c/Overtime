
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/Home/Index">Home</a></li>
        <li class="breadcrumb-item active"><a href="/Salary/Index">Salary</a></li>
    </ol>
</nav>
<div class="Pallet-fluid" style="padding:10px;">
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-3">
                    <label for="salaryMonth" class="form-label fw-bold">Select Month</label>
                    @{
                        var currentMonth = DateTime.Now.ToString("yyyy-MM");
                    }
                    <input type="month" id="salaryMonth" class="form-control" value="@currentMonth" />
                </div>

                <div class="col-md-3">
                    <button class="btn btn-primary mt-4" onclick="getSalaryOftheMonth()">Search</button>
                @if (ViewBag.AccessForSalaryUpload != null)
                {
                    <button class="btn btn-danger mt-4  pull-right" onclick="deleteSalaryOftheMonth()">Delete Whole Salary for the Month</button>
                }
                </div>
                @if (ViewBag.AccessForSalaryUpload != null)
                {
                   <div class="col-md-6 ">
                       <button class="btn btn-secondary mt-4 pull-right" onclick="openSalaryUploadModal()">Upload Salary</button>
                      
                   </div>
                }
            </div>
        </div>
    </div>
    <hr />
    <div class="card">
        <div class="card-body" id="container">

        </div>
    </div>
</div>


<div class="modal" id="salaryUploadModal" role="dialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Salary Upload</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-3">
                        <label for="salaryMonth" class="form-label fw-bold">Select Month</label>
                        <input type="month" id="salaryMonthUpload" class="form-control" value="@currentMonth" />

                    </div>
                    <div class="col-md-3">
                        <label for="salaryFile" class="form-label fw-bold">Upload File</label>
                        <input type="file" id="salaryFile" class="form-control" accept=".xlsx,.xls,.csv" />
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-primary mt-4" onclick="UploadSalary()">Upload</button>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-primary mt-4" onclick="DownloadSample()">
                            Download Excel Format
                        </button>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="col-md-12" id="uploadContainer">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>



<div class="modal" id="paySlipModal" role="dialog">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Pay Slip</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12" id="paySlipContainer">

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>